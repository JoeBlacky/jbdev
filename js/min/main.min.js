var app={init:function(){this.runAnimation(),this.countdown(),this.form(),this.analytics()},countdown:function(){function e(e){var n=Date.parse(e)-Date.parse(new Date),t=Math.floor(n/1e3%60),a=Math.floor(n/1e3/60%60),o=Math.floor(n/36e5%24),s=Math.floor(n/864e5);return{total:n,days:s,hours:o,minutes:a,seconds:t}}function n(n,t){function a(){var n=e(t);s.innerHTML=("0"+n.days).slice(-2),i.innerHTML=("0"+n.hours).slice(-2),c.innerHTML=("0"+n.minutes).slice(-2),r.innerHTML=("0"+n.seconds).slice(-2),n.total<=0&&clearInterval(l)}var o=document.getElementById(n),s=o.querySelector(".days"),i=o.querySelector(".hours"),c=o.querySelector(".minutes"),r=o.querySelector(".seconds"),l=setInterval(a,1e3);a()}var t=new Date(Date.parse("Jan 20 2016 00:00:00 GMT+0200"));n("countdown",t)},runAnimation:function(){document.body.className+="animate"},form:function(){function e(e){var t=new XMLHttpRequest,a=document.getElementById("email").value;t.onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE)if(e.className=e.className.replace(" loading",""),200==t.status){var a="Yay! Thank you for signing up!",o="success";n(a,o),e.reset()}else{var a="Whoops, looks like something went wrong!",o="error";n(a,o)}},t.open("POST","forms.php"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send("email="+a)}function n(e,n){a.className=a.className+=" active "+n,a.innerHTML=e,setTimeout(function(){a.className=a.className.replace(" active "+n,"")},3e3)}var t=document.getElementById("form"),a=document.getElementById("message");t.onsubmit=function(n){this.className+=" loading",n.preventDefault(),e(this)}},analytics:function(){!function(e,n,t,a,o,s,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,s=n.createElement(t),i=n.getElementsByTagName(t)[0],s.async=1,s.src=a,i.parentNode.insertBefore(s,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-71377021-1","auto"),ga("send","pageview")}};window.onload=function(){app.init()};